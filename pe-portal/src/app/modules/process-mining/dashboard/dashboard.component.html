<div class="dashboard">
    <div class="dashboard-conditions">
        <div class="statistics" *ngIf="context">
            <div class="stat-item">
                <div class="value">{{context.numTraces | number}}</div>
                <div class="label">Cases selected</div>
            </div>
            <div class="stat-item">
                <div class="value">{{context.numEvents | number}}</div>
                <div class="label">Events selected</div>
            </div>
        </div>
  
        <div class="actions">
            <app-condition-list [context]="context" [conditions]="conditions"></app-condition-list>
        </div>
        <div class="buttons">
            <button nz-button nzType="primary" (click)="doUpdate()">Update</button>
        </div>
    </div>

    <div class="grid">
        <gridster class="chart" [options]="gridOptions">
            <gridster-item [item]="item" *ngFor="let item of dashboard; index as idx">
                <div class="widget" nz-popover [nzPopoverContent]="editTemplate">
                    <app-chart
                        #chart
                        [logName]="logName"
                        [context]="context"
                        [conditions]="conditions"

                        [options]="item.options"
                        [measures]="item.measures"
                        [dimensions]="item.dimensions"
                    ></app-chart>
                </div>
                <ng-template #editTemplate>
                    <button (click)="doEdit(idx)">Edit</button>
                </ng-template>
            </gridster-item>
        </gridster>
        <div class="options">
            <ng-container [ngTemplateOutlet]="optionsTemplate"></ng-container>
        </div>
    </div>
</div>

